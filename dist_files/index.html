<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1">
	<title>Test</title>
</head>
<body>
<button>test</button>
<ul id="fileList"></ul>
<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Assumenda dolor, enim fugiat hic natus recusandae ut. Consequatur ea eligendi est facilis inventore molestiae odit, officia quaerat quidem temporibus veniam voluptatibus.</p>
<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Adipisci architecto asperiores aut dolores eaque esse excepturi fugiat fugit hic illo labore nihil non odio placeat, ratione repellat sunt ullam voluptatem?</p>
<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consequatur consequuntur dicta, molestiae perspiciatis quam quas quisquam? Consectetur delectus earum exercitationem iure labore omnis pariatur perferendis praesentium reiciendis, rerum tempore, temporibus?</p>
<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Assumenda dolor, enim fugiat hic natus recusandae ut. Consequatur ea eligendi est facilis inventore molestiae odit, officia quaerat quidem temporibus veniam voluptatibus.</p>
<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Adipisci architecto asperiores aut dolores eaque esse excepturi fugiat fugit hic illo labore nihil non odio placeat, ratione repellat sunt ullam voluptatem?</p>
<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consequatur consequuntur dicta, molestiae perspiciatis quam quas quisquam? Consectetur delectus earum exercitationem iure labore omnis pariatur perferendis praesentium reiciendis, rerum tempore, temporibus?</p>
<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Assumenda dolor, enim fugiat hic natus recusandae ut. Consequatur ea eligendi est facilis inventore molestiae odit, officia quaerat quidem temporibus veniam voluptatibus.</p>
<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Adipisci architecto asperiores aut dolores eaque esse excepturi fugiat fugit hic illo labore nihil non odio placeat, ratione repellat sunt ullam voluptatem?</p>
<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consequatur consequuntur dicta, molestiae perspiciatis quam quas quisquam? Consectetur delectus earum exercitationem iure labore omnis pariatur perferendis praesentium reiciendis, rerum tempore, temporibus?</p>
<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Assumenda dolor, enim fugiat hic natus recusandae ut. Consequatur ea eligendi est facilis inventore molestiae odit, officia quaerat quidem temporibus veniam voluptatibus.</p>
<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Adipisci architecto asperiores aut dolores eaque esse excepturi fugiat fugit hic illo labore nihil non odio placeat, ratione repellat sunt ullam voluptatem?</p>
<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consequatur consequuntur dicta, molestiae perspiciatis quam quas quisquam? Consectetur delectus earum exercitationem iure labore omnis pariatur perferendis praesentium reiciendis, rerum tempore, temporibus?</p>
<script src="js/sfbrowser.js"></script>
<script>
	(function () {
		document.querySelector('button').addEventListener('click',function(){
			sfbrowser.init({
				id:'img'
				,folder: 'ImageFolder'
				,baseFolder: 'data'
				,title: 'Choose an image'
				,callback:selectFiles
			});
		},false);
		setTimeout(function(){
			sfbrowser.init({
				x: 10
				,y: 10
				,folder: ''
				,baseFolder: 'data'
				,lang: 'nl'
				,callback:selectFiles
			});
		},1000);
		function selectFiles(files){
			var mList = document.getElementById('fileList')
					,mFragment = document.createDocumentFragment();
			files.forEach(function(file){
				var mLi = document.createElement('li')
						,mImg = document.createElement('img');
				mLi.innerText = file.name;
				mImg.src = 'data/'+file.path+'/'+file.name;
				mImg.height = 16;
				mLi.appendChild(mImg);
				mFragment.appendChild(mLi);
				console.log('file',file); // log
			});
			mList.innerHTML = '';
			mList.appendChild(mFragment);
		}

	})();
</script>
</body>
</html>